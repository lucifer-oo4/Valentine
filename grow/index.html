<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Our Garden ðŸŒ¹</title>

<style>
body{
  margin:0;
  height:100vh;
  overflow:hidden;
  font-family:monospace;
  background:radial-gradient(circle at bottom,#1c1c2b,#090910);
  color:white;
}

/* MESSAGE */

#msg{
  position:fixed;
  top:20px;
  width:100%;
  text-align:center;
  opacity:.85;
  z-index:5;
}

/* FIREFLIES */

.firefly{
  position:fixed;
  width:6px;
  height:6px;
  background:gold;
  border-radius:50%;
  box-shadow:0 0 10px gold;
  opacity:.7;
  animation:float 10s linear infinite;
}

@keyframes float{
  from{transform:translateY(100vh);}
  to{transform:translateY(-10vh);}
}

/* STEM */

.flower{
  position:absolute;
  width:8px;
  height:140px;
  background:linear-gradient(#2e7d32,#1b5e20);
  border-radius:5px;
}

/* PETALS */

.petal{
  position:absolute;
  width:48px;
  height:48px;
  border-radius:50%;
  opacity:0;
  transform:scale(0);
  animation:bloom .6s forwards;
  filter:blur(.2px);
}

@keyframes bloom{
  to{opacity:1; transform:scale(1);}
}

/* CENTER */

.core{
  position:absolute;
  width:22px;
  height:22px;
  background:radial-gradient(circle,#fff3b0,#ffb703);
  border-radius:50%;
  top:-8px;
  left:-7px;
  opacity:0;
  animation:bloom .5s forwards .2s;
}

/* PETAL RAIN */

@keyframes fall{
  to{
    transform:translateY(110vh) rotate(360deg);
    opacity:0;
  }
}
</style>
</head>

<body>

<div id="msg">Tap to grow our garden ðŸŒ·</div>

<script>
let count=0;
const msg=document.getElementById("msg");

/* Fireflies */

setInterval(()=>{
  const f=document.createElement("div");
  f.className="firefly";
  f.style.left=Math.random()*100+"vw";
  f.style.animationDuration=(8+Math.random()*6)+"s";
  document.body.appendChild(f);
  setTimeout(()=>f.remove(),14000);
},900);

/* Flower colors */

const colors=[
 ["#ff4d6d","#c9184a"],
 ["#ff8fab","#fb6f92"],
 ["#cdb4db","#b185db"]
];

document.body.onclick=e=>{
 grow(e.clientX,e.clientY);
};

function grow(x,y){

 const color=colors[Math.floor(Math.random()*colors.length)];

 const f=document.createElement("div");
 f.className="flower";
 f.style.left=(x-4)+"px";
 f.style.top=(y-140)+"px";

 const petals=8;
 const r=24;

 for(let i=0;i<petals;i++){
  const p=document.createElement("div");
  p.className="petal";

  const a=(i/petals)*360*Math.PI/180;
  p.style.left=(Math.cos(a)*r-20)+"px";
  p.style.top=(Math.sin(a)*r-38)+"px";
  p.style.background=
   `radial-gradient(circle,${color[0]},${color[1]})`;
  p.style.animationDelay=(i*.05)+"s";

  f.appendChild(p);
 }

 const core=document.createElement("div");
 core.className="core";
 f.appendChild(core);

 document.body.appendChild(f);

 count++;
 reveal();
}

/* Story progression */

function reveal(){
 if(count===4)
  msg.innerText="Every flower is a reason I adore you ðŸŒ¹";

 if(count===8)
  msg.innerText="You make my world softer and I love you brighter âœ¨";

 if(count===12)
  msg.innerText="This is a garden of rose for my rosy darling";

 if(count===15){
  petalStorm();
  finalNote();
 }
}

/* Petal storm */

function petalStorm(){
 for(let i=0;i<140;i++){
  const p=document.createElement("div");
  p.innerText="ðŸŒ¸";
  p.style.position="fixed";
  p.style.left=Math.random()*100+"vw";
  p.style.top="-10px";
  p.style.fontSize=(12+Math.random()*20)+"px";
  p.style.animation=
   `fall ${3+Math.random()*3}s linear forwards`;
  document.body.appendChild(p);
 }
}

/* Final note */

function finalNote(){
 const note=document.createElement("div");
 note.innerText="à¤«à¥‚à¤² for my Beautifulï¸";
 note.style.position="fixed";
 note.style.top="50%";
 note.style.left="50%";
 note.style.transform="translate(-50%,-50%)";
 note.style.fontSize="40px";
 note.style.color="white";
 note.style.textAlign="center";
 note.style.opacity=100;
 note.style.transition="1s";
 note.style.zIndex=10;

 document.body.appendChild(note);

 setTimeout(()=>note.style.opacity=1,400);
}
</script>

</body>
</html>
